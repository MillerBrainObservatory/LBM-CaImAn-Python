selector_to_html = {"a[href=\"#segmentation\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4. </span>Segmentation<a class=\"headerlink\" href=\"#segmentation\" title=\"Link to this heading\">#</a></h1><p>Extract neuronal locations and planar time-traces.</p>", "a[href=\"#patches-are-tiny\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.11. </span>Patches are tiny!<a class=\"headerlink\" href=\"#patches-are-tiny\" title=\"Link to this heading\">#</a></h2><p>There was an error in how we set up our patches.</p>", "a[href=\"#view-accepted-neurons-on-a-summary-image\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.9. </span>View accepted neurons on a summary image<a class=\"headerlink\" href=\"#view-accepted-neurons-on-a-summary-image\" title=\"Link to this heading\">#</a></h2><p>Now we\u2019re going to display a summary image to plot our segmentation results on top of.</p><p>You can try a variety of these images to see which gives you the clearest picture of your neurons at their most active state.</p>", "a[href=\"#checking-for-an-errors\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.6. </span>Checking for an errors<a class=\"headerlink\" href=\"#checking-for-an-errors\" title=\"Link to this heading\">#</a></h2><p>After a batch run, check the results to make sure the outputs do not contain a \u201ctraceback\u201d error.</p><p>An error-free processing run will yield \u201cNone\u201d in the cell below. Otherwise, an error will be printed.</p>", "a[href=\"#data-path-setup\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.1. </span>Data path setup<a class=\"headerlink\" href=\"#data-path-setup\" title=\"Link to this heading\">#</a></h2><p>Data setup is similar to <a class=\"reference internal\" href=\"motion_correction.html\"><span class=\"std std-doc\">motion_correction notebook</span></a>.</p>", "a[href=\"#evaluate-cnmf-results\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.13. </span>Evaluate CNMF Results<a class=\"headerlink\" href=\"#evaluate-cnmf-results\" title=\"Link to this heading\">#</a></h2><p>The next step is to adjust evaluation parameters, <code class=\"docutils literal notranslate\"><span class=\"pre\">min_SNR</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">rval_thr</span></code> (and <code class=\"docutils literal notranslate\"><span class=\"pre\">cnn_thr</span></code> if you used <code class=\"docutils literal notranslate\"><span class=\"pre\">use_cnn=True</span></code>).</p><p>These parameters <strong>will not compensate for poorly-calculated initialization parameters</strong>.</p>", "a[href=\"#extras\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.18. </span>Extras<a class=\"headerlink\" href=\"#extras\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#get-values-for-k-and-gsig\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.3. </span>Get values for K and gSig<a class=\"headerlink\" href=\"#get-values-for-k-and-gsig\" title=\"Link to this heading\">#</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">get_single_patch_coords()</span></code> takes your image dimensions and strides/overlaps values from registration to show you a single patch of your movie.</p><p>Use the last parameter, <code class=\"docutils literal notranslate\"><span class=\"pre\">patch_index</span></code>, to select a patch with activity. This can be a list [] or tuple (), of the row/column you want to select.</p>", "a[href=\"#cnmf-parameters\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.2. </span>CNMF Parameters<a class=\"headerlink\" href=\"#cnmf-parameters\" title=\"Link to this heading\">#</a></h2><p>In this section, we\u2019ll define a <code class=\"docutils literal notranslate\"><span class=\"pre\">parameters</span></code> object that will subsequently be used to initialize our different estimators.</p>", "a[href=\"#what-happened\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.10. </span>What happened?<a class=\"headerlink\" href=\"#what-happened\" title=\"Link to this heading\">#</a></h2><p>We see many more neurons than we expect. Why is this?</p><p>Lets check the patches used for CNMF.</p>", "a[href=\"motion_correction.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3. </span>Registration<a class=\"headerlink\" href=\"#registration\" title=\"Link to this heading\">#</a></h1><p>Correct for rigid/non-rigid movement</p>", "a[href=\"#the-most-important-step\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.2.1. </span><strong>The most important step</strong><a class=\"headerlink\" href=\"#the-most-important-step\" title=\"Link to this heading\">#</a></h3><p>We need to tell CaImAn our neuron size, and how many neurons to expect.</p>", "a[href=\"#run-the-cnmf-batch-items\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.15. </span>Run the <code class=\"docutils literal notranslate\"><span class=\"pre\">cnmf</span></code> batch items<a class=\"headerlink\" href=\"#run-the-cnmf-batch-items\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#evaluate-cnmf-outputs\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.7. </span>Evaluate CNMF outputs<a class=\"headerlink\" href=\"#evaluate-cnmf-outputs\" title=\"Link to this heading\">#</a></h2><p>Similar to mcorr, you can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">mesmerize-core</span></code> API to fetch the outputs.</p><p><a class=\"reference external\" href=\"https://mesmerize-core.readthedocs.io/en/latest/api/cnmf.html\">API reference for mesmerize-CNMF</a>\n<a class=\"reference external\" href=\"https://caiman.readthedocs.io/en/latest/Getting_Started.html#parameters\">API reference for caiman-CNMF</a></p>", "a[href=\"#pick-the-best-parameter-set\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.16. </span>Pick the best parameter set<a class=\"headerlink\" href=\"#pick-the-best-parameter-set\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#set-new-parameters\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.4. </span>Set new parameters<a class=\"headerlink\" href=\"#set-new-parameters\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#run-the-cnmf-algorithm\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.5. </span>Run the CNMF algorithm<a class=\"headerlink\" href=\"#run-the-cnmf-algorithm\" title=\"Link to this heading\">#</a></h2><p>The API is identical to running mcorr.</p><p>You can provide the mcorr item row to <code class=\"docutils literal notranslate\"><span class=\"pre\">input_movie_path</span></code> and it will resolve the path of the input movie from the entry in the DataFrame.</p>", "a[href=\"#parameter-gridsearch\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.14. </span>Parameter Gridsearch<a class=\"headerlink\" href=\"#parameter-gridsearch\" title=\"Link to this heading\">#</a></h2><p>Once you have a close approximation for a value of <code class=\"docutils literal notranslate\"><span class=\"pre\">K</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">rf</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">stride</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">gSig</span></code>, we can further tune these values with a grid-search.</p>", "a[href=\"#adjust-quality-metrics-based-on-evaluation-parameters\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.17. </span>Adjust quality metrics based on evaluation parameters<a class=\"headerlink\" href=\"#adjust-quality-metrics-based-on-evaluation-parameters\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#rerun-cnmf\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.12. </span>Rerun CNMF<a class=\"headerlink\" href=\"#rerun-cnmf\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#plot-cnmf-components\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">4.8. </span>Plot CNMF Components<a class=\"headerlink\" href=\"#plot-cnmf-components\" title=\"Link to this heading\">#</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">lcp.plot_cnmf_components(df,</span> <span class=\"pre\">marker_size=3)</span></code> plots the <strong>estimates produced by CaImAn</strong></p><p>This is essentially a small region around each \u201cneuron\u201d, or what CaImAn considers a neuron.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
